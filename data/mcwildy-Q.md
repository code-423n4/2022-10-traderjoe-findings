# Qa Report

## TRADERJOE

### Use higher solidity version

Optimizations, bug fixes and additional features come with each solidity `patch` version update

[Buffer.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Buffer.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IWAVAX.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IWAVAX.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IJoePair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoePair.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Samples.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Samples.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[TreeMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/TreeMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBPair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBPair.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IJoeRouter02.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoeRouter02.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SwapHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SwapHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Decoder.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Decoder.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBFactory.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ReentrancyGuardUpgradeable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/ReentrancyGuardUpgradeable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IJoeRouter01.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoeRouter01.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[TokenHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/TokenHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Encoder.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Encoder.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBRouter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBRouter.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Constants.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Constants.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Oracle.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Oracle.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ILBToken.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBToken.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ILBFlashLoanCallback.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBFlashLoanCallback.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBToken.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBToken.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IPendingOwnable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IPendingOwnable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[PendingOwnable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/PendingOwnable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[FeeDistributionHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/FeeDistributionHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IJoeFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoeFactory.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ILBPair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBPair.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ILBFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBFactory.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBErrors.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBErrors.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[FeeHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/FeeHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Math128x128.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Math128x128.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[JoeLibrary.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/JoeLibrary.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ILBRouter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBRouter.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[BitMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/BitMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SafeCast.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SafeCast.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SafeMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SafeMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBQuoter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBQuoter.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[BinHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/BinHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Math512Bits.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Math512Bits.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

### Events should use all three `indexed` keywords for their parameters

[IJoeFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoeFactory.sol):

```solidity
line#L8:   event PairCreated(address indexed token0, address indexed token1, address pair, uint256);
```

[ILBToken.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBToken.sol):

```solidity
line#L19:  event ApprovalForAll(address indexed account, address indexed sender, bool approved);
```

[ILBPair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/ILBPair.sol):

```solidity
line#L148: event FeesCollected(address indexed sender, address indexed recipient, uint256 amountX, uint256 amountY);

line#L150: event ProtocolFeesCollected(address indexed sender, address indexed recipient, uint256 amountX, uint256 amountY);
```

[IJoePair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IJoePair.sol):

```solidity
line#L8:   event Approval(address indexed owner, address indexed spender, uint256 value);

line#L9:   event Transfer(address indexed from, address indexed to, uint256 value);

line#L49:  event Mint(address indexed sender, uint256 amount0, uint256 amount1);

line#L50:  event Burn(address indexed sender, uint256 amount0, uint256 amount1, address indexed to);
```

### Use `external` visibility modifier for function that are not being invoked by the contract

[LBToken.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBToken.sol):

```solidity
line#L49:  function name() public pure virtual override returns (string memory) {

line#L55:  function symbol() public pure virtual override returns (string memory) {

line#L100: function userPositionAtIndex(address _account, uint256 _index) public view virtual override returns (uint256) {

line#L107: function userPositionNumber(address _account) public view virtual override returns (uint256) {

line#L149: function safeBatchTransferFrom(
```

[PendingOwnable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/PendingOwnable.sol):

```solidity
line#L47:  function owner() public view override returns (address) {

line#L53:  function pendingOwner() public view override returns (address) {

line#L68:  function revokePendingOwner() public override onlyOwner {

line#L75:  function becomeOwner() public override onlyPendingOwner {

line#L83:  /// thereby removing any functionality that is only available to the owner.

line#L84:  function renounceOwnership() public override onlyOwner {
```

[LBQuoter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBQuoter.sol):

```solidity
line#L54:  function findBestPathFromAmountIn(address[] memory _route, uint256 _amountIn)

line#L134: function findBestPathFromAmountOut(address[] memory _route, uint256 _amountOut)
```

[LBFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBFactory.sol):

```solidity
line#L38:  /// @notice Whether the createLBPair function is unlocked and can be called by anyone (true) or only by owner (false)
```

### Contracts should use a fixed compiler version to avoid potential bugs

[LBQuoter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBQuoter.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[TokenHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/TokenHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[FeeDistributionHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/FeeDistributionHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Decoder.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Decoder.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[PendingOwnable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/PendingOwnable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Samples.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Samples.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBRouter.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBRouter.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Math512Bits.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Math512Bits.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[IPendingOwnable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/interfaces/IPendingOwnable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[TreeMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/TreeMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[FeeHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/FeeHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Buffer.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Buffer.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Math128x128.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Math128x128.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SwapHelper.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SwapHelper.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SafeMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SafeMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[SafeCast.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/SafeCast.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[BitMath.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/BitMath.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBFactory.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBFactory.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Encoder.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Encoder.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[JoeLibrary.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/JoeLibrary.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[ReentrancyGuardUpgradeable.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/ReentrancyGuardUpgradeable.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBToken.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBToken.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[Oracle.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/libraries/Oracle.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```

[LBPair.sol](https://github.com/code-423n4/2022-10-traderjoe/tree/main/src/LBPair.sol):

```solidity
line#L3:   pragma solidity ^0.8.0;
```
